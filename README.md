# UPDATE:

1) Перед запуском нужно сделать npm install из EmoBot.Client\Services\Converter\JsConverter, т.к. tgs конвертер запускается в виде js скрипта и npm процесса из cmd.
2) Там же лежит gifski.exe, к которому обращается js скрипт-конвертер. Для мака вроде тоже есть gifski. 
3) Статичные стикеры Giphy не принимает. Вообще не принимает статичные .gif, поэтому статичные стикеры анимируются вручную с помощью отражения, получается простая анмация из двух кадров.

# EmoBot

Приложение состоит из 2-ух проектов:
- `EmoBot.Client`: принимает обновления от телеграм-бота через webhooks, если стикер уже закэширован, то просто берет ссылку из кэша и отправляет пользователю ответ. Если стикера нет в кэше, то отправляет сообщение со стикером через `EmojiRabbitDto` в очередь через RabbitMQ, принимает, обрабатывает и отправляет ответ.
- `EmoBot.Giphy.API`: обертка для Giphy API)

Для получения публичной ссылки использовал ngrok, запускать нужно обязательно на 443 или 80 порту: 
```sh
ngrok http 443 -host-header="localhost:443"
```

Токен и ссылку на бота и Giphy можно задать в `EmoBot.Client/appsettings`. Здесь же конфигурация для mongodb и RabbitMQ.
